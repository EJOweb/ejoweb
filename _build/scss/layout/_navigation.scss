/* Primary Navigation
-------------------------------------------------------------------*/
#menu-primary {
	display: none;
}

@include breakpoint(large) {
	#menu-primary {
		display: block;
	}
}

#menu-primary {
	flex-grow: 1;

	ul { @extend %reset-list; }
	li { display: block; }

	a {
		@extend %reset-link;
		display: block;
	}

	.menu-items {
		display: flex;
		flex-direction: row;
		flex-wrap: wrap;
		justify-content: flex-end;
		align-items: flex-start;
	}

	/* Top level items */
	.menu-items > .menu-item {
		padding-bottom: 9px;
		margin: 0px 9px;

		> a {		
			font-family: get-font-family(primary);
			font-weight: get-font-weight(bold, primary);
			padding: 4px 17px;
			text-align: center;
			text-transform: uppercase;
		}

		> a:after {
			content: "";
			display: block;
			position: relative;
			top: 13px;
			margin: 0 auto;
			height: 2px;
			width: 0;
			background-color: transparent;
			transition: all 200ms ease-in-out 0s;
		}

		/* Active */
		&.current-menu-item,
		&.current-menu-parent,
		&.current-menu-ancestor,
		&.current-post-ancestor,
		&.current-category-ancestor {
			> a:after {
				background-color: $white;
				width: 100%;
			}
		}		

		/* On hover */
		&:hover > a:after {
			background: $white;
			width: 100%;
		}

		&:last-child {
			margin-right: 0;
			> a {
				padding-right: 0;
			}
		}
	}

	/* Top level Submenu */
	.menu-items > .menu-item {
		position: relative;
		// overflow: hidden;

		> .sub-menu {
			visibility: hidden;
			opacity: 0;
			position: absolute;
			top: 150%;
			left: 0;
			z-index: 99;
			max-width: 320px;
			padding: 6px 0;
			background: $white;
			color: $river-bed;
			box-shadow: $box__shadow;
			transition: all 300ms ease 0s;
		}

		/* Show sub-menu on hover menu-item */
		&:hover {
			overflow: visible;

			> .sub-menu { 
				visibility: visible;
				opacity: 1;
				top: 100%;
			}
		}
	}

	.menu-items > .menu-item > .sub-menu > .menu-item {
		font-size: font-size(small);
		white-space: nowrap;
		a {
			padding: 0.333rem 1rem;
			transition: all 100ms linear 0s;

			&:hover {
				background: $grey;
				// color: $white;
			}
		}
	}

}
